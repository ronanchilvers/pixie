<?php
namespace Pixie;

require(__DIR__ . '/../src/bootstrap.php');

use Pixie\Console\Application;

$ctx = \Pixie\Context::Factory()
        ->service('name', 'Ronan')
        ->service('timenow', function(){
            return 'time now: ' . microtime(true);
        })
        ->service('ex', function(){
            throw new \Pixie\Context\ContainerException('Test exception');
        })
        ->once('startTime', function(){
            return 'start time: ' . microtime(true);
        })
        ;

var_dump($ctx->get('name'));

for ($i = 0; $i < 5; $i++) {
    var_dump($ctx->get('TimeNow'));
    var_dump($ctx->get('StartTime'));
}

var_dump($ctx->get('ex'));
var_dump($ctx->get('notfound'));

// $app = new Application();
// $app->run();
